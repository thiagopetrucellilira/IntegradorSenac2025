
@use '@angular/material' as mat;

// CSS Reset for layout issues
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  margin: 0 !important;
  padding: 0 !important;
}

// Define custom green palette
$custom-green: (
  50: #e8f5e8,
  100: #c8e6c9,
  200: #a5d6a7,
  300: #81c784,
  400: #66bb6a,
  500: #4caf50,
  600: #43a047,
  700: #388e3c,
  800: #2e7d32,
  900: #1b5e20,
  contrast: (
    50: rgba(black, 0.87),
    100: rgba(black, 0.87),
    200: rgba(black, 0.87),
    300: rgba(black, 0.87),
    400: rgba(black, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

html {
  @include mat.theme((
    color: (
      primary: $custom-green,
      tertiary: mat.$blue-palette,
    ),
    typography: Roboto,
    density: 0,
  ));
  margin: 0 !important;
  padding: 0 !important;
}

body {
  color-scheme: light;
  background-color: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);
  font: var(--mat-sys-body-medium);
  margin: 0 !important;
  padding: 0 !important;
  height: 100%;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  overflow-x: hidden;
}

html, body { 
  height: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

// Ensure proper stacking context
* {
  box-sizing: border-box;
}

app-root {
  display: block;
  width: 100%;
  margin: 0;
  padding: 0;
}

// Reset any default margins/paddings
html, body, app-root {
  margin: 0 !important;
  padding: 0 !important;
}

// Global utility classes
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;
}

.text-center {
  text-align: center;
}

.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mt-3 { margin-top: 24px; }
.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }
.mb-3 { margin-bottom: 24px; }

.full-width {
  width: 100%;
}

.spacer {
  flex: 1 1 auto;
}

// Material Design overrides for consistent layout
.mat-toolbar, .mat-mdc-toolbar {
  margin: 0 !important;
  padding: 0 !important;
}

// Additional reset for Material components that might interfere
.mat-app-background {
  background-color: transparent !important;
}

// Ensure app-root has no spacing
app-root {
  display: block !important;
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

// Fix dropdown transparency issues
.mat-mdc-select-panel {
  background-color: white !important;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 
              0 4px 5px 0 rgba(0, 0, 0, 0.14), 
              0 1px 10px 0 rgba(0, 0, 0, 0.12) !important;
  border-radius: 8px !important;
  border: 1px solid rgba(0, 0, 0, 0.12) !important;
  overflow-y: auto !important;
  max-height: 256px !important;
}

.mat-mdc-option {
  background-color: white !important;
  color: rgba(0, 0, 0, 0.87) !important;
  
  &:hover, &.mdc-list-item--selected {
    background-color: #f5f5f5 !important;
    color: rgba(0, 0, 0, 0.87) !important;
  }
  
  &.mat-mdc-option-active {
    background-color: rgba(76, 175, 80, 0.1) !important;
    color: rgba(0, 0, 0, 0.87) !important;
  }

  &.mdc-list-item--disabled {
    background-color: white !important;
    color: rgba(0, 0, 0, 0.38) !important;
  }
}

// Ensure overlay backdrop doesn't interfere
.cdk-overlay-backdrop {
  background-color: rgba(0, 0, 0, 0.32);
}

.cdk-overlay-pane {
  background-color: transparent;
}

// Specific styling for mat-select dropdown
.mat-mdc-select-panel-wrap {
  background-color: white !important;
}

// Override any MDC select panel styles
.mdc-menu-surface {
  background-color: white !important;
}

.mdc-list {
  background-color: white !important;
}

.mdc-list-item {
  background-color: white !important;
}

// Date picker overlay fix
.mat-datepicker-content {
  background-color: white !important;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 
              0 4px 5px 0 rgba(0, 0, 0, 0.14), 
              0 1px 10px 0 rgba(0, 0, 0, 0.12) !important;
}

.mat-calendar {
  background-color: white !important;
}

// Menu overlay fix (if any menus are used)
.mat-mdc-menu-panel {
  background-color: white !important;
  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2), 
              0 4px 5px 0 rgba(0, 0, 0, 0.14), 
              0 1px 10px 0 rgba(0, 0, 0, 0.12) !important;
  overflow-y: auto !important;
  max-height: 400px !important;
}

// Additional fallbacks for any remaining transparency issues
.mat-select-panel,
.mat-autocomplete-panel {
  background-color: white !important;
  border: 1px solid rgba(0, 0, 0, 0.12) !important;
  overflow-y: auto !important;
  max-height: 256px !important;
}

.mat-option {
  background-color: white !important;
  
  &:hover, &.mat-selected {
    background-color: #f5f5f5 !important;
  }
  
  &.mat-active {
    background-color: rgba(76, 175, 80, 0.1) !important;
  }
}
